function e(e,t,a,n){Object.defineProperty(e,t,{get:a,set:n,enumerable:!0,configurable:!0})}var t=globalThis,a={},n={},o=t.parcelRequire0a92;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return a[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},t.parcelRequire0a92=o),(0,o.register)("5N5Ye",function(t,a){function n(){return!!localStorage.getItem("receipt")}function o(e,t="Play Again",a=!1){if(localStorage.getItem("receipt")||a){let a=document.createElement("button");a.classList.add("form-button","play-button"),a.textContent=t,a.onclick=function(){let e=localStorage.getItem("receipt")??!1;return localStorage.clear(),e&&localStorage.setItem("receipt",e),window.location.href="/",!1},document.getElementById(e).appendChild(a)}}e(t.exports,"checkPlayAgain",()=>n),e(t.exports,"addPlayAgainButton",()=>o)}),o("5N5Ye");const l="https://il7bkysao3dscz7bylpledumk40tbmof.lambda-url.us-east-1.on.aws/gallery";let r=new URLSearchParams(window.location.search).get("id");const i=localStorage.getItem("key")??!1,c=localStorage.getItem("receipt")??!1;let s=localStorage.getItem("images")?JSON.parse(localStorage.getItem("images")):[],d={},m=0;async function u(){let e=l+"?imageId="+r;c&&(!s.length||0===Object.keys(d).length)&&(e+="&receipt="+c),await fetch(e,{method:"GET",headers:{Host:"il7bkysao3dscz7bylpledumk40tbmof.lambda-url.us-east-1.on.aws"}}).then(e=>{if(!e.ok)throw Error("Server error: "+e.statusText);return e.json()}).then(e=>{Object.keys(d).length>0&&d[r]?(f(r),h(s)):e.imageList&&(s=e.imageList,localStorage.setItem("images",JSON.stringify(e.imageList)),f(r),h(s)),d[r]={imageUrl:e.imageUrl,slogan:e.message},function(e="",t=""){let a=document.getElementById("slogan");if(a.textContent="",document.getElementById("results-placeholder").classList.remove("placeholder"),t){let a=document.getElementById("aiImage");a.src=t,a.alt=e}if(e&&(a.textContent=e.replace(/^"|"$/g,"")),!i){let e=document.createElement("button");e.classList.add("form-button","play-button"),e.textContent="Play Now!",e.onclick=function(){return localStorage.clear(),c&&localStorage.setItem("receipt",c),window.location.href="/",!1},document.getElementById("results").appendChild(e)}}(e.message,e.imageUrl)}).catch(e=>{console.error("Error: ",e),window.location.href="/"})}async function g(e){let t=document.getElementById("slogan"),a=document.getElementById("aiImage");if(a.classList.add("fade-out"),d[s[e]])t.textContent=d[s[e]].slogan,a.src=d[s[e]].imageUrl;else{let n=l+"?imageId="+s[e];await fetch(n,{method:"GET",headers:{Host:"il7bkysao3dscz7bylpledumk40tbmof.lambda-url.us-east-1.on.aws"}}).then(e=>{if(!e.ok)throw Error("Server error: "+e.statusText);return e.json()}).then(n=>{a.src=n.imageUrl,n.message?(t.textContent=n.message.replace(/^"|"$/g,""),a.alt=n.message):(a.alt="AI Image",t.textContent="",n.message=""),d[s[e]]={imageUrl:n.imageUrl,slogan:n.message},a.classList.remove("fade-out")}).catch(e=>{console.error("Error: ",e),window.location.href="/"})}}function f(e){for(let t=0;t<s.length;t++)s[t]===e&&(m=t)}function h(e){let t=document.getElementById("thumbnail-slider-container"),a=document.createElement("button");a.classList.add("gallery-arrow","gallery-arrow-left"),a.innerHTML="&#10094;",a.onclick=function(){(function(){let e=document.querySelector("#thumbnail-slider-container .thumbnail-slider");e&&e.scrollBy({left:-200,behavior:"smooth"})})()};let n=document.createElement("button");n.classList.add("gallery-arrow","gallery-arrow-right"),n.innerHTML="&#10095;",n.onclick=function(){(function(){let e=document.querySelector("#thumbnail-slider-container .thumbnail-slider");e&&e.scrollBy({left:200,behavior:"smooth"})})()};let o=document.createElement("div");o.classList.add("thumbnail-slider");for(let t=0;t<e.length;t++){let a=document.createElement("img");a.src="https://aivote.s3.us-east-1.amazonaws.com/"+e[t]+".png",a.index=t,a.onclick=async function(){await g(this.index),document.querySelectorAll(".thumbnail").forEach(e=>e.classList.remove("active")),this.classList.add("active")},m===t?a.classList.add("thumbnail","active"):a.classList.add("thumbnail"),o.append(a)}t.append(a),t.append(o),t.append(n)}document.addEventListener("DOMContentLoaded",async function(e){r||c?(r||(r="df862158939a5266"),await u(r)):window.location.href="/"});
//# sourceMappingURL=gallery.631765b4.js.map
