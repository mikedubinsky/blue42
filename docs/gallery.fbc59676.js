function e(e,t,a,o){Object.defineProperty(e,t,{get:a,set:o,enumerable:!0,configurable:!0})}var t=globalThis,a={},o={},n=t.parcelRequire0a92;null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},t.parcelRequire0a92=n),(0,n.register)("5N5Ye",function(t,a){function o(){return!!localStorage.getItem("receipt")}function n(e,t="Play Again",a=!1){if(localStorage.getItem("receipt")||a){let a=document.createElement("button");a.classList.add("form-button","play-button"),a.textContent=t,a.onclick=function(){let e=localStorage.getItem("receipt")??!1;return localStorage.clear(),e&&localStorage.setItem("receipt",e),window.location.href="/",!1},document.getElementById(e).appendChild(a)}}e(t.exports,"checkPlayAgain",()=>o),e(t.exports,"addPlayAgainButton",()=>n)}),n("5N5Ye");const r="https://il7bkysao3dscz7bylpledumk40tbmof.lambda-url.us-east-1.on.aws/gallery";let l=new URLSearchParams(window.location.search).get("id");const c=localStorage.getItem("key")??!1,i=localStorage.getItem("receipt")??!1;let s=localStorage.getItem("images")?JSON.parse(localStorage.getItem("images")):[],d=0;async function m(){let e=r+"?imageId="+l;i&&!s.length&&(e+="&receipt="+i),await fetch(e,{method:"GET",headers:{Host:"il7bkysao3dscz7bylpledumk40tbmof.lambda-url.us-east-1.on.aws"}}).then(e=>{if(!e.ok)throw Error("Server error: "+e.statusText);return e.json()}).then(e=>{e.imageList&&(s=e.imageList,localStorage.setItem("images",JSON.stringify(e.imageList)),function(e){for(let t=0;t<s.length;t++)s[t]===e&&(d=t)}(l)),function(e="",t=""){let a=document.getElementById("slogan");if(a.textContent="",document.getElementById("results-placeholder").classList.remove("placeholder"),t){let a=document.getElementById("aiImage");a.src=t,a.alt=e}if(e&&(a.textContent=e.replace(/^"|"$/g,"")),!c){let e=document.createElement("button");e.classList.add("form-button","play-button"),e.textContent="Play Now!",e.onclick=function(){return localStorage.clear(),i&&localStorage.setItem("receipt",i),window.location.href="/",!1},document.getElementById("results").appendChild(e)}i&&function(){let e=document.createElement("div");e.classList.add("arrow","left-arrow"),e.id="prev-arrow",e.innerHTML="&#10094;";let t=document.createElement("div");t.classList.add("arrow","right-arrow"),t.id="next-arrow",t.innerHTML="&#10095;";let a=document.getElementById("aiImage"),o=a.parentNode;o.insertBefore(e,a),o.insertBefore(t,a.nextSibling),document.getElementById("prev-arrow").addEventListener("click",async function(){d=0===d?s.length-1:d-1,await g(d)}),document.getElementById("next-arrow").addEventListener("click",async function(){d=d===s.length-1?0:d+1,await g(d)})}()}(e.message,e.imageUrl)}).catch(e=>{console.error("Error: ",e),window.location.href="/"})}async function g(e){let t=document.getElementById("aiImage");t.classList.add("fade-out");let a=r+"?imageId="+s[e];await fetch(a,{method:"GET",headers:{Host:"il7bkysao3dscz7bylpledumk40tbmof.lambda-url.us-east-1.on.aws"}}).then(e=>{if(!e.ok)throw Error("Server error: "+e.statusText);return e.json()}).then(e=>{let a=document.getElementById("slogan");t.src=e.imageUrl,e.message?(a.textContent=e.message.replace(/^"|"$/g,""),t.alt=e.message):(t.alt="AI Image",a.textContent=""),t.classList.remove("fade-out")}).catch(e=>{console.error("Error: ",e),window.location.href="/"})}document.addEventListener("DOMContentLoaded",async function(e){l||i?(l||(l="df862158939a5266"),await m(l)):window.location.href="/"});
//# sourceMappingURL=gallery.fbc59676.js.map
